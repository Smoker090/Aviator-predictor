<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aviator Predictor</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #111; color: #eee; }
    input, button, select { padding: 10px; margin: 5px; font-size: 16px; }
    .risk { color: red; font-weight: bold; }
    .pink { color: hotpink; font-weight: bold; }
    .safe { color: lightgreen; font-weight: bold; }
    .risky { color: orange; font-weight: bold; }
  </style>
</head>
<body>
  <h2>ğŸ¯ Aviator Predictor</h2>
  <input type="number" id="crashInput" placeholder="Enter last crash value" step="0.01" />
  <select id="mode">
    <option value="safe">ğŸ›¡ï¸ Safe Mode</option>
    <option value="risky">ğŸ”¥ Risky Mode</option>
    <option value="pink">ğŸ’— Pink Hunter</option>
  </select>
  <button onclick="predictNext()">Predict Next</button>
  <button onclick="clearHistory()">Clear History</button>
  <p id="prediction"></p>
  <p id="history"></p>

  <script>
    let history = JSON.parse(localStorage.getItem("aviatorHistory")) || [];

    function saveHistory() {
      localStorage.setItem("aviatorHistory", JSON.stringify(history));
    }

    function clearHistory() {
      history = [];
      saveHistory();
      document.getElementById("prediction").innerHTML = "";
      document.getElementById("history").innerHTML = "History cleared.";
    }

    function predictNext() {
      const input = parseFloat(document.getElementById("crashInput").value);
      const mode = document.getElementById("mode").value;
      if (isNaN(input)) return alert("Please enter a valid number");

      history.push(input);
      if (history.length > 50) history.shift(); // keep last 50
      saveHistory();

      let risk = input < 1.5 ? "âš ï¸ High Crash Risk" : "";
      let pink = detectPinkRound() ? "ğŸ’— Pink Round Possible" : "";

      let nextPrediction = estimateNextCrash(mode);

      let modeLabel = mode === "safe" ? "ğŸ›¡ï¸ Safe Mode" :
                      mode === "risky" ? "ğŸ”¥ Risky Mode" : "ğŸ’— Pink Hunter";

      document.getElementById("prediction").innerHTML = `
        Mode: <span class="${mode}">${modeLabel}</span><br>
        Predicted Crash: <strong>${nextPrediction.toFixed(2)}x</strong><br>
        <span class="risk">${risk}</span> <span class="pink">${pink}</span>
      `;

      document.getElementById("history").innerHTML = `
        Last 5 Crashes: ${history.slice(-5).map(v => v.toFixed(2)).join(", ")}
      `;
    }

    function estimateNextCrash(mode) {
      let recent = history.slice(-5);
      let avg = recent.reduce((a, b) => a + b, 0) / recent.length;
      let volatility = Math.max(...recent) - Math.min(...recent);

      let adjustment = 0;
      if (mode === "safe") {
        adjustment = volatility > 2 ? -0.7 : -0.3;
      } else if (mode === "risky") {
        adjustment = volatility > 2 ? 0.8 : 0.4;
      } else if (mode === "pink") {
        adjustment = detectPinkRound() ? 2.5 : 0.5;
      }

      return Math.max(1.01, avg + adjustment);
    }

    function detectPinkRound() {
      let last = history.slice(-3);
      return last.every(v => v > 10);
    }
  </script>
</body>
</html>
